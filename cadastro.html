<!DOCTYPE html>
<html>
<head>
    <title>Cadastro</title>
    <script>
        async function preencherEnderecoPorCEP() {
            const cep = document.getElementById("cep").value;
            if (cep.length === 8) {  // Verifica se o CEP tem 8 dígitos
                const url = `https://viacep.com.br/ws/${cep}/json/`;
                try {
                    const response = await fetch(url);
                    const data = await response.json();

                    if (data.erro) {
                        alert("CEP não encontrado.");
                    } else {
                        document.getElementById("estado").value = data.uf;
                        document.getElementById("cidade").value = data.localidade;
                        document.getElementById("bairro").value = data.bairro;
                    }
                } catch (error) {
                    console.error('Ocorreu um erro ao buscar o CEP:', error);
                }
            }
        }

        function validarSenha() {
            const senha = document.getElementById("senha").value;
            const confirmarSenha = document.getElementById("confirmar_senha").value;

            if (senha !== confirmarSenha) {
                alert("A senha e a confirmação de senha devem ser iguais.");
                return false;
            }

            return true;
        }
    </script>
</head>
<body>

<h1>Cadastro</h1>
<hr>

<form action="processar_formulario.php" method="post" onsubmit="return validarSenha()">
    <label for="nome">Nome:</label><br>
    <input type="text" id="nome" name="nome"><br>

    <label for="data_nascimento">Data de Nascimento:</label><br>
    <input type="date" id="data_nascimento" name="data_nascimento"><br>

    <label for="cep">CEP:</label><br>
    <input type="text" id="cep" name="cep" onblur="preencherEnderecoPorCEP()"><br>
    <label for="estado">Estado:</label><br>
    <input type="text" id="estado" name="estado"><br>

    <label for="cidade">Cidade:</label><br>
    <input type="text" id="cidade" name="cidade"><br>

    <label for="bairro">Bairro:</label><br>
    <input type="text" id="bairro" name="bairro"><br>

    <label for="numero">Número:</label><br>
    <input type="text" id="numero" name="numero"><br>

    <label for="cpf">CPF:</label><br>
    <input type="text" id="cpf" name="cpf"><br>

    <label for="email">E-mail:</label><br>
    <input type="email" id="email" name="email"><br>

    <label for="senha">Criar Senha:</label><br>
    <input type="password" id="senha" name="senha"><br>

    <label for="confirmar_senha">Confirmar Senha:</label><br>
    <input type="password" id="confirmar_senha" name="confirmar_senha"><br>

    <label for="telefone">Telefone:</label><br>
    <input type="text" id="telefone" name="telefone"><br>

    

    <label for="area_interesse">Áreas de Interesse:</label><br>
    <select id="area_interesse" name="area_interesse">
        <option value="Moda">Moda</option>
        <option value="Beleza">Beleza</option>
        <option value="Tecnologia">Tecnologia</option>
        <option value="Idioma">Idioma</option>
        <option value="Marketing">Marketing</option>
    </select><br>

    <input type="submit" value="Enviar">
</form>

</body>
</html>
